(this.webpackJsonpdepgraphviz=this.webpackJsonpdepgraphviz||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),c=n(32),s=n.n(c),i=(n(98),n(9)),o=n(105),l=n(35),d=(n(99),n(106)),j=n(24),p=localStorage.getItem("depGraphViz.tagsMap")||"{}",u=localStorage.getItem("depGraphViz.categoryMap")||"{}",h=Object(j.a)({magento:["Magento","orangered"],drupal:["Drupal","#139ddd"],backend:["Backend","#444"]},JSON.parse(p)),b=Object(j.a)({factory:["factory","#980034"],provider:["provider","#003775"],builder:["builder","#653211"],transformer:["transformer","#13655d"],datasource:["datasource","#464"],service:["service","#4a4"],resolver:["resolver","#838"],logger:["logger","#000"]},JSON.parse(u)),g=function(e){var t=[];for(var n in h)e.match(new RegExp(n,"i"))&&t.push(h[n]);return t},m=function(e){var t=[];for(var n in b)e.match(new RegExp(n,"i"))&&t.push(b[n]);return t},O=n(1),v=function e(t){var n=t.name,r=t.class_,a=t.arguments_,c=t.factory,s=t.serviceConfigs,o=t.open;return Object(O.jsx)("div",{className:"service",children:Object(O.jsxs)("details",{open:o,children:[Object(O.jsx)("summary",{children:Object(O.jsxs)("h3",{children:[n," ",r&&g(r).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(O.jsx)("span",{className:"tag",style:{backgroundColor:r},children:n})}))]})}),Object(O.jsxs)("div",{className:"service-content",children:[Object(O.jsx)("p",{className:"class-path",children:r}),a&&Object(O.jsx)("ul",{className:"arguments-list",children:a.map((function(t){var n=t.replace("@","");if(s.hasOwnProperty(n)){var r=s[n],a=r.arguments,c=r.class,i=r.factory;return Object(O.jsx)("li",{children:Object(O.jsx)(e,{name:t,class_:c,arguments_:a,factory:i,serviceConfigs:s,open:o})})}return Object(O.jsx)("li",{children:t})}))}),c&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{children:"Factory:"}),Object(O.jsx)("ul",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(O.jsx)("li",{children:e})}))})]})]})]})})},f=n(33),x=n.n(f),y=n(34),S=n(36),k=localStorage.getItem("depGraphViz.rootService")||"/Gateway[Gateway]",w=function(e){var t=e.endpoint,n=void 0===t?localStorage.getItem("depGraphViz.endpoint")||"http://localhost:4009":t,a=Object(r.useState)(!1),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(d.a)("depData",(function(){return fetch(n).then((function(e){return e.json()}))})),j=l.isLoading,p=l.error,u=l.data;if(j)return Object(O.jsx)(O.Fragment,{children:"Loading..."});if(p)return Object(O.jsxs)(O.Fragment,{children:["An error has occurred: ",p.message]});var h=u.config.data,b=h.services,f=h.parameters,w=b[k],N=Object.keys(b).sort().map((function(e){var t=b[e].class;return{id:e,label:"<strong>".concat(e,"</strong><br/>\n    ").concat(t&&'<span class="class-path">'.concat(t,"</span>\n        <br/>")+g(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return'<span class="tag" style="background-color: '.concat(r,'">\n          ').concat(n,"\n        </span>")})).join("")),labelType:"html",class:m(e).map((function(e){return Object(i.a)(e,1)[0]})).join(" "),config:{height:55}}})),z=[];return N.forEach((function(e){var t;null===(t=b[e.id].arguments)||void 0===t||t.forEach((function(t){var n=null===t||void 0===t?void 0:t.replace("@","");b.hasOwnProperty(n)&&z.push({source:e.id,target:n,config:{curve:S.a}})}))})),Object(O.jsxs)("div",{children:[Object(O.jsx)("header",{children:Object(O.jsx)("h1",{children:"Dependency Graph Visualizer"})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)(y.a,{nodes:N,links:z,width:"100%",height:"600",animate:1e3,shape:"rect",zoomable:!0,config:{rankdir:"LR",align:"UL",ranker:"longest-link"}})})}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col",children:[Object(O.jsxs)("h2",{children:["Dependency Explorer"," ",Object(O.jsx)("button",{onClick:function(){o(!s)},children:"Expand/Collapse All"})]}),Object(O.jsx)(v,{serviceConfigs:b,name:k,class_:w.class,arguments_:w.arguments,factory:w.factory,open:s})]}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("h2",{children:"Parameters"}),Object(O.jsx)(x.a,{src:f,theme:"summerfruit:inverted",collapsed:2,displayDataTypes:!1})]})]})]})},N=new o.a;var z=function(){var e=Object(r.useState)(localStorage.getItem("depGraphViz.endpoint")||"http://localhost:4009"),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(localStorage.getItem("depGraphViz.endpoint")||"http://localhost:4009"),s=Object(i.a)(c,2),o=s[0],d=s[1];return Object(O.jsxs)(l.a,{client:N,children:[Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(o),localStorage.setItem("depGraphViz.endpoint",n)},children:[Object(O.jsx)("input",{type:"text",name:"endpoint",placeholder:"Endpoint",onChange:function(e){return d(e.target.value)},value:o}),Object(O.jsx)("button",{type:"submit",children:"Submit"})]}),Object(O.jsx)(w,{endpoint:n})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(z,{})}),document.getElementById("root")),C()},98:function(e,t,n){},99:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.7804d8df.chunk.js.map